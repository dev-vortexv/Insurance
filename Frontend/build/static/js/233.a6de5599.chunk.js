"use strict";(self.webpackChunkinsurance=self.webpackChunkinsurance||[]).push([[233],{57233:function(e,t,i){i.r(t),i.d(t,{default:function(){return P}});var a=i(47313),r=i(57829),n=i(47825),s=i(35898),l=i(61113),o=i(69099),d=i(73428),c=i(67662),u=i(85350),h=i(85833),m=i(65954),x=i(51997),p=i(90154),g=i(66149),Z=i(9019),f=i(1550),j=i(5178),y=i(24631),v=i(4117),C=i(96467),F=i(97762),D=i(33604),b=i(23195),k=i(79429),w=i(3463),B=i(46417);var T=e=>{const{open:t,handleClose:i,editPackagesData:a,editData:r}=e,n=localStorage.getItem("user_id"),s=w.Ry({title:w.Z_().required("Title is required"),amount:w.Rx().required("amount is required"),description:w.Z_().required("Description is required"),days:w.Z_().required("Days is required")}),d={title:r.title,amount:r.amount,description:r.description,days:r.days,assigned_agent:n,createdBy:n},c=(0,k.TA)({initialValues:d,validationSchema:s,enableReinitialize:!0,onSubmit:async e=>{const t={title:e.title,days:e.days,amount:e.amount,description:e.description,assigned_agent:e.assigned_agent,createdBy:e.createdBy};a(t),i(),c.resetForm()}});return(0,B.jsx)("div",{children:(0,B.jsxs)(g.Z,{open:t,onClose:i,"aria-labelledby":"scroll-dialog-title","aria-describedby":"scroll-dialog-description",children:[(0,B.jsxs)(D.Z,{id:"scroll-dialog-title",style:{display:"flex",justifyContent:"space-between"},children:[(0,B.jsx)(l.Z,{variant:"h6",children:"Edit Packages"}),(0,B.jsx)(l.Z,{children:(0,B.jsx)(b.Z,{onClick:i,style:{cursor:"pointer"}})})]}),(0,B.jsx)(C.Z,{dividers:!0,children:(0,B.jsx)("form",{children:(0,B.jsxs)(F.Z,{id:"scroll-dialog-description",tabIndex:-1,children:[(0,B.jsx)(l.Z,{style:{marginBottom:"15px"},variant:"h6",children:"Basic Information"}),(0,B.jsxs)(Z.ZP,{container:!0,rowSpacing:3,columnSpacing:{xs:0,sm:5,md:4},children:[(0,B.jsx)(Z.ZP,{item:!0,xs:12,sm:4,md:4,children:(0,B.jsxs)(f.Z,{fullWidth:!0,children:[(0,B.jsx)(j.Z,{children:"Title"}),(0,B.jsx)(y.Z,{id:"title",name:"title",size:"small",fullWidth:!0,value:c.values.title,onChange:c.handleChange,error:c.touched.amount&&Boolean(c.errors.title),helperText:c.touched.title&&c.errors.title})]})}),(0,B.jsxs)(Z.ZP,{item:!0,xs:12,sm:6,md:6,children:[(0,B.jsx)(j.Z,{children:"Amount"}),(0,B.jsx)(y.Z,{id:"amount",name:"amount",type:"number",size:"small",fullWidth:!0,value:c.values.amount,onChange:c.handleChange,error:c.touched.amount&&Boolean(c.errors.amount),helperText:c.touched.amount&&c.errors.amount})]}),(0,B.jsxs)(Z.ZP,{item:!0,xs:12,sm:12,md:12,children:[(0,B.jsx)(j.Z,{children:"Description"}),(0,B.jsx)(y.Z,{id:"description",name:"description",label:"",size:"small",multiline:!0,rows:5,fullWidth:!0,value:c.values.description,onChange:c.handleChange,error:c.touched.description&&Boolean(c.errors.description),helperText:c.touched.description&&c.errors.description})]})]}),(0,B.jsx)(Z.ZP,{container:!0,rowSpacing:3,columnSpacing:{xs:0,sm:5,md:4},children:(0,B.jsx)(Z.ZP,{item:!0,xs:12,sm:12,md:12,children:(0,B.jsxs)(f.Z,{fullWidth:!0,children:[(0,B.jsx)(j.Z,{children:"Days"}),(0,B.jsx)(y.Z,{id:"days",name:"days",size:"small",fullWidth:!0,value:c.values.days,onChange:c.handleChange,error:c.touched.days&&Boolean(c.errors.days),helperText:c.touched.days&&c.errors.days})]})})})]})})}),(0,B.jsxs)(v.Z,{children:[(0,B.jsx)(o.Z,{onClick:c.handleSubmit,variant:"contained",color:"primary",type:"submit",children:"Save"}),(0,B.jsx)(o.Z,{onClick:()=>{c.resetForm(),i()},variant:"outlined",color:"error",children:"Cancel"})]})]})})},S=i(23547),A=i(31387);var M=e=>{const{open:t,handleClose:i,addPackagesData:a}=e,r=localStorage.getItem("user_id"),n=w.Ry({title:w.Z_().required("Title is required"),amount:w.Rx().required("amount is required"),description:w.Z_().required("Description is required"),days:w.Rx().required("Days is required").test("len","Days must be Max 3 numbers",(e=>e.toString().length<=3))}),s={title:"",amount:"",description:"",days:"",assigned_agent:r,createdBy:r},d=(0,k.TA)({initialValues:s,validationSchema:n,onSubmit:async e=>{const t={title:e.title,days:e.days,amount:e.amount,description:e.description,assigned_agent:e.assigned_agent,createdBy:e.createdBy};a(t),i(),A.Am.success("Packages Add successfully"),d.resetForm()}});return(0,B.jsx)("div",{children:(0,B.jsxs)(g.Z,{open:t,onClose:i,"aria-labelledby":"scroll-dialog-title","aria-describedby":"scroll-dialog-description",children:[(0,B.jsxs)(D.Z,{id:"scroll-dialog-title",style:{display:"flex",justifyContent:"space-between"},children:[(0,B.jsx)(l.Z,{variant:"h6",children:"Add New Packages"}),(0,B.jsx)(l.Z,{children:(0,B.jsx)(b.Z,{onClick:i,style:{cursor:"pointer"}})})]}),(0,B.jsx)(C.Z,{dividers:!0,children:(0,B.jsx)("form",{children:(0,B.jsxs)(F.Z,{id:"scroll-dialog-description",tabIndex:-1,children:[(0,B.jsx)(l.Z,{style:{marginBottom:"15px"},variant:"h6",children:"Basic Information"}),(0,B.jsxs)(Z.ZP,{container:!0,rowSpacing:3,columnSpacing:{xs:0,sm:5,md:4},children:[(0,B.jsx)(Z.ZP,{item:!0,xs:12,md:4,children:(0,B.jsxs)(f.Z,{fullWidth:!0,children:[(0,B.jsx)(j.Z,{children:"Title"}),(0,B.jsx)(y.Z,{id:"title",name:"title",size:"small",fullWidth:!0,value:d.values.title,onChange:d.handleChange,error:d.touched.amount&&Boolean(d.errors.title),helperText:d.touched.title&&d.errors.title})]})}),(0,B.jsxs)(Z.ZP,{item:!0,xs:12,md:4,children:[(0,B.jsx)(j.Z,{children:"Amount"}),(0,B.jsx)(y.Z,{id:"amount",name:"amount",type:"number",size:"small",fullWidth:!0,value:d.values.amount,onChange:d.handleChange,error:d.touched.amount&&Boolean(d.errors.amount),helperText:d.touched.amount&&d.errors.amount})]}),(0,B.jsx)(Z.ZP,{item:!0,xs:12,md:4,children:(0,B.jsxs)(f.Z,{fullWidth:!0,children:[(0,B.jsx)(j.Z,{children:"Days"}),(0,B.jsx)(y.Z,{id:"days",name:"days",type:"number",size:"small",fullWidth:!0,value:d.values.days,onChange:d.handleChange,error:d.touched.days&&Boolean(d.errors.days),helperText:d.touched.days&&d.errors.days})]})}),(0,B.jsxs)(Z.ZP,{item:!0,xs:12,sm:12,md:12,children:[(0,B.jsx)(j.Z,{children:"Description"}),(0,B.jsx)(y.Z,{id:"description",name:"description",label:"",size:"small",multiline:!0,rows:5,fullWidth:!0,value:d.values.description,onChange:d.handleChange,error:d.touched.description&&Boolean(d.errors.description),helperText:d.touched.description&&d.errors.description})]})]})]})})}),(0,B.jsxs)(v.Z,{children:[(0,B.jsx)(o.Z,{onClick:d.handleSubmit,variant:"contained",color:"primary",type:"submit",children:"Save"}),(0,B.jsx)(o.Z,{onClick:()=>{d.resetForm(),i()},variant:"outlined",color:"error",children:"Cancel"})]})]})})},q=i(19333);var P=()=>{const e=localStorage.getItem("userRole"),[t,i]=(0,a.useState)(!1),[g,Z]=(0,a.useState)([]),[f,j]=(0,a.useState)(!1),[y,v]=(0,a.useState)(!1),[C,F]=(0,a.useState)([]),[D,b]=(0,a.useState)(""),k=()=>j(!1),w=()=>v(!1),A=async()=>{const t=await(0,q.ac)("admin"===e?"packages/list":`packages/list/?createdBy=${user_id}`);var i;t&&200===t.status&&Z(null===t||void 0===t||null===(i=t.data)||void 0===i?void 0:i.packagesAllData)},P=async e=>{const t=await(0,q.ef)(`packages/delete/${e}`,e);t&&200===t.status&&A(),k()},z=async e=>{const t=e,i=await(0,q.eq)(`packages/edit/${null===C||void 0===C?void 0:C._id}`,t);i&&200===i.status&&A()};(0,a.useEffect)((()=>{A()}),[]);const _=[{field:"_id",headerName:"S.No.",flex:.5,cellClassName:"name-column--cell name-column--cell--capitalize",valueGetter:e=>e.api.getRowIndexRelativeToVisibleRows(e.row._id)+1},{field:"title",headerName:"Title",flex:1,cellClassName:"name-column--cell name-column--cell--capitalize"},{field:"description",headerName:"Description",flex:1},{field:"amount",headerName:"Amount",flex:1},{field:"days",headerName:"Days",flex:1,cellClassName:"name-column--cell--capitalize"},{field:"action",headerName:"Action",flex:1,renderCell:e=>{const t=async e=>{F(e),v(!0)},i=async e=>{b(e._id),j(!0)};return(0,B.jsx)(B.Fragment,{children:(0,B.jsxs)(r.Z,{sx:{display:"flex",alignItems:"center"},children:[(0,B.jsx)(T,{open:y,editData:C,handleClose:w,editPackagesData:z}),(0,B.jsx)(r.Z,{onClick:()=>t(null===e||void 0===e?void 0:e.row),children:(0,B.jsx)(m.Z,{sx:{color:"#6F2DA8"}})}),(0,B.jsx)(p.Z,{openDelete:f,deleteId:D,handleCloseDelete:k,deleteData:P}),(0,B.jsx)(r.Z,{onClick:()=>i(null===e||void 0===e?void 0:e.row),children:(0,B.jsx)(x.Z,{sx:{color:"red"}})})]})})}}];return(0,B.jsxs)(B.Fragment,{children:[(0,B.jsx)(M,{open:t,handleClose:()=>i(!1),addPackagesData:async t=>{const i=await(0,q.Fv)("admin"===e?"packages/add":`packages/add/?createdBy=${user_id}`,t);i&&201===i.status&&A()}}),(0,B.jsxs)(n.Z,{children:[(0,B.jsxs)(s.Z,{direction:"row",alignItems:"center",mb:5,justifyContent:"space-between",children:[(0,B.jsx)(l.Z,{variant:"h4",children:"Packages Lists"}),(0,B.jsx)(s.Z,{direction:"row",alignItems:"center",justifyContent:"flex-end",spacing:2,children:(0,B.jsx)(o.Z,{variant:"contained",startIcon:(0,B.jsx)(S.Z,{icon:"eva:plus-fill"}),onClick:()=>i(!0),children:"New Packages"})})]}),(0,B.jsx)(c.Z,{children:(0,B.jsx)(r.Z,{width:"100%",children:(0,B.jsx)(d.Z,{style:{height:"600px",paddingTop:"15px"},children:(0,B.jsx)(u._$,{rows:null!==g&&void 0!==g?g:[],columns:_,getRowId:e=>e._id,slots:{toolbar:h.n},slotProps:{toolbar:{showQuickFilter:!0}}})})})})]})]})}},90154:function(e,t,i){i.d(t,{Z:function(){return g}});i(47313);var a=i(69099),r=i(17592),n=i(66149),s=i(33604),l=i(96467),o=i(4117),d=i(47131),c=i(11198),u=i(61113),h=i(35898),m=i(46417);const x=(0,r.ZP)(n.Z)((e=>{let{theme:t}=e;return{"& .MuiDialogContent-root":{padding:t.spacing(2)},"& .MuiDialogActions-root":{padding:t.spacing(1)}}}));function p(e){const{children:t,onClose:i,...a}=e;return(0,m.jsxs)(s.Z,{sx:{m:0,p:2},...a,children:[t,i?(0,m.jsx)(d.Z,{"aria-label":"close",onClick:i,sx:{position:"absolute",right:8,top:8,color:e=>e.palette.grey[500]},children:(0,m.jsx)(c.Z,{})}):null]})}function g(e){const{openDelete:t,handleCloseDelete:i,deleteData:r,deleteId:n}=e;return(0,m.jsx)("div",{children:(0,m.jsxs)(x,{"aria-labelledby":"customized-dialog-title",open:t,children:[(0,m.jsx)(p,{id:"customized-dialog-title",onClose:i,children:"Delete"}),(0,m.jsx)(l.Z,{dividers:!0,children:(0,m.jsx)(u.Z,{gutterBottom:!0,p:3,children:"Are you sure you want to delete this item?"})}),(0,m.jsx)(o.Z,{children:(0,m.jsxs)(h.Z,{direction:"row",spacing:2,children:[(0,m.jsx)(a.Z,{variant:"contained",color:"error",onClick:()=>{r(n)},children:"Yes"}),(0,m.jsx)(a.Z,{variant:"contained",onClick:i,children:"No"})]})})]})})}},67662:function(e,t,i){var a=i(17592),r=i(35460);const n=(0,a.ZP)("div")({"& .MuiDataGrid-root":{border:"none"},"& .MuiDataGrid-cell":{borderBottom:"none"},"& .name-column--cell":{color:r.Z.primary.main,cursor:"pointer"},"& .name-column--cell--capitalize":{textTransform:"capitalize"},"& .name-column--cell:hover":{textDecoration:"underline"},"& .MuiDataGrid-columnHeaders":{backgroundColor:r.Z.grey[200],borderBottom:"none",outline:"none !important",borderRadius:"0px"},"& .MuiDataGrid-virtualScroller":{scrollbarWidth:"1px"},"& .MuiDataGrid-toolbarContainer .MuiButton-text":{textTransform:"capitalize",fontSize:"15px"},".MuiDataGrid-cell:focus,.MuiDataGrid-columnHeader:focus,MuiDataGrid-columnHeaderCheckbox:focus":{outline:"none !important"},".css-1jiby6q-MuiDataGrid-root .MuiDataGrid-columnHeader:focus-within, .css-1jiby6q-MuiDataGrid-root .MuiDataGrid-cell:focus-within":{outline:"none"}});t.Z=n},35460:function(e,t,i){var a=i(17551);const r={0:"#FFFFFF",100:"#F9FAFB",200:"#F4F6F8",300:"#DFE3E8",400:"#C4CDD5",500:"#919EAB",600:"#637381",700:"#454F5B",800:"#212B36",900:"#161C24"},n={common:{black:"#000",white:"#fff"},primary:{lighter:"#D1E9FC",light:"#76B0F1",main:"#2065D1",dark:"#103996",darker:"#061B64",contrastText:"#fff"},secondary:{lighter:"#D6E4FF",light:"#84A9FF",main:"#3366FF",dark:"#1939B7",darker:"#091A7A",contrastText:"#fff"},info:{lighter:"#D0F2FF",light:"#74CAFF",main:"#1890FF",dark:"#0C53B7",darker:"#04297A",contrastText:"#fff"},success:{lighter:"#E9FCD4",light:"#AAF27F",main:"#54D62C",dark:"#229A16",darker:"#08660D",contrastText:r[800]},warning:{lighter:"#FFF7CD",light:"#FFE16A",main:"#FFC107",dark:"#B78103",darker:"#7A4F01",contrastText:r[800]},error:{lighter:"#FFE7D9",light:"#FFA48D",main:"#FF4842",dark:"#B72136",darker:"#7A0C2E",contrastText:"#fff"},grey:r,divider:(0,a.Fq)(r[500],.24),text:{primary:r[800],secondary:r[600],disabled:r[500]},background:{paper:"#fff",default:r[100],neutral:r[200]},action:{active:r[600],hover:(0,a.Fq)(r[500],.08),selected:(0,a.Fq)(r[500],.16),disabled:(0,a.Fq)(r[500],.8),disabledBackground:(0,a.Fq)(r[500],.24),focus:(0,a.Fq)(r[500],.24),hoverOpacity:.08,disabledOpacity:.48}};t.Z=n},23547:function(e,t,i){i.d(t,{Z:function(){return c}});var a=i(75192),r=i.n(a),n=i(47313),s=i(2524),l=i(57829),o=i(46417);const d=(0,n.forwardRef)(((e,t)=>{let{icon:i,width:a=20,sx:r,...n}=e;return(0,o.jsx)(l.Z,{ref:t,component:s.JO,icon:i,sx:{width:a,height:a,...r},...n})}));d.propTypes={sx:r().object,width:r().oneOfType([r().number,r().string]),icon:r().oneOfType([r().element,r().string])};var c=d},23195:function(e,t,i){var a=i(64836);t.Z=void 0;var r=a(i(45045)),n=i(46417),s=(0,r.default)((0,n.jsx)("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Clear");t.Z=s},11198:function(e,t,i){var a=i(64836);t.Z=void 0;var r=a(i(45045)),n=i(46417),s=(0,r.default)((0,n.jsx)("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close");t.Z=s},51997:function(e,t,i){var a=i(64836);t.Z=void 0;var r=a(i(45045)),n=i(46417),s=(0,r.default)((0,n.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"}),"Delete");t.Z=s},65954:function(e,t,i){var a=i(64836);t.Z=void 0;var r=a(i(45045)),n=i(46417),s=(0,r.default)((0,n.jsx)("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 0 0-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"}),"Edit");t.Z=s},97762:function(e,t,i){i.d(t,{Z:function(){return Z}});var a=i(63366),r=i(87462),n=i(47313),s=i(83061),l=i(21921),o=i(17592),d=i(77342),c=i(61113),u=i(77430),h=i(32298);function m(e){return(0,h.Z)("MuiDialogContentText",e)}(0,u.Z)("MuiDialogContentText",["root"]);var x=i(46417);const p=["children","className"],g=(0,o.ZP)(c.Z,{shouldForwardProp:e=>(0,o.FO)(e)||"classes"===e,name:"MuiDialogContentText",slot:"Root",overridesResolver:(e,t)=>t.root})({});var Z=n.forwardRef((function(e,t){const i=(0,d.Z)({props:e,name:"MuiDialogContentText"}),{className:n}=i,o=(0,a.Z)(i,p),c=(e=>{const{classes:t}=e,i=(0,l.Z)({root:["root"]},m,t);return(0,r.Z)({},t,i)})(o);return(0,x.jsx)(g,(0,r.Z)({component:"p",variant:"body1",color:"text.secondary",ref:t,ownerState:o,className:(0,s.Z)(c.root,n)},i,{classes:c}))}))}}]);