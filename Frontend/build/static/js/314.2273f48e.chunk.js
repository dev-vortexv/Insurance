"use strict";(self.webpackChunkinsurance=self.webpackChunkinsurance||[]).push([[314],{90154:function(e,t,n){n.d(t,{Z:function(){return m}});n(47313);var i=n(69099),l=n(17592),o=n(66149),r=n(33604),a=n(96467),d=n(4117),s=n(47131),c=n(11198),u=n(61113),p=n(35898),f=n(46417);const v=(0,l.ZP)(o.Z)((e=>{let{theme:t}=e;return{"& .MuiDialogContent-root":{padding:t.spacing(2)},"& .MuiDialogActions-root":{padding:t.spacing(1)}}}));function h(e){const{children:t,onClose:n,...i}=e;return(0,f.jsxs)(r.Z,{sx:{m:0,p:2},...i,children:[t,n?(0,f.jsx)(s.Z,{"aria-label":"close",onClick:n,sx:{position:"absolute",right:8,top:8,color:e=>e.palette.grey[500]},children:(0,f.jsx)(c.Z,{})}):null]})}function m(e){const{openDelete:t,handleCloseDelete:n,deleteData:l,deleteId:o}=e;return(0,f.jsx)("div",{children:(0,f.jsxs)(v,{"aria-labelledby":"customized-dialog-title",open:t,children:[(0,f.jsx)(h,{id:"customized-dialog-title",onClose:n,children:"Delete"}),(0,f.jsx)(a.Z,{dividers:!0,children:(0,f.jsx)(u.Z,{gutterBottom:!0,p:3,children:"Are you sure you want to delete this item?"})}),(0,f.jsx)(d.Z,{children:(0,f.jsxs)(p.Z,{direction:"row",spacing:2,children:[(0,f.jsx)(i.Z,{variant:"contained",color:"error",onClick:()=>{l(o)},children:"Yes"}),(0,f.jsx)(i.Z,{variant:"contained",onClick:n,children:"No"})]})})]})})}},98761:function(e,t,n){n(47313);var i=n(57829),l=n(61113),o=n(46417);t.Z=e=>{let{title:t,subtitle:n}=e;return(0,o.jsxs)(i.Z,{children:[(0,o.jsx)(l.Z,{variant:"h4",fontWeight:"bold",sx:{mb:"5px"},style:{textTransform:"capitalize"},children:t}),(0,o.jsx)(l.Z,{variant:"body1",children:n})]})}},21314:function(e,t,n){n.r(t);var i=n(47825),l=n(9019),o=n(35898),r=n(69099),a=n(5178),d=n(24631),s=n(57829),c=n(47313),u=n(69883),p=n(97890),f=n(28064),v=n(31387),h=n(98761),m=n(19333),x=n(90154),j=n(46417);t.default=()=>{const e=(0,c.useRef)(null),[t,n]=(0,c.useState)(!1),[y,Z]=(0,c.useState)(!1),[g,w]=(0,c.useState)({}),[b,E]=(0,c.useState)(""),C=(0,p.s0)(),I=(0,p.UO)();(0,c.useEffect)((()=>{(async()=>{const e=await(0,m.ac)(`emailtemplate/view/${I.id}`);var t,n,i,l;e&&200===e.status&&(w(null===e||void 0===e||null===(t=e.data)||void 0===t||null===(n=t.emailtemplate)||void 0===n?void 0:n.design),E(null===e||void 0===e||null===(i=e.data)||void 0===i||null===(l=i.emailtemplate)||void 0===l?void 0:l.name))})()}),[]);return(0,j.jsxs)("div",{children:[(0,j.jsx)(x.Z,{openDelete:y,handleCloseDelete:()=>Z(!1),deleteData:async()=>{await(0,m.ef)(`emailtemplate/delete/${I.id}`),C("/dashboard/emailtemplate")},deleteId:I.id}),(0,j.jsxs)(i.Z,{children:[(0,j.jsx)(l.ZP,{container:!0,display:"flex",alignItems:"center",children:(0,j.jsx)(l.ZP,{container:!0,display:"flex",alignItems:"center",children:(0,j.jsxs)(o.Z,{direction:"row",alignItems:"center",mb:3,justifyContent:"space-between",width:"100%",children:[(0,j.jsx)(h.Z,{title:"View & Edit Template"}),(0,j.jsxs)(o.Z,{direction:"row",alignItems:"center",justifyContent:"flex-end",spacing:2,children:[(0,j.jsx)(r.Z,{variant:"contained",color:"primary",onClick:()=>{var i,l,o,r;t?(null===(i=e.current)||void 0===i||null===(l=i.editor)||void 0===l||l.hidePreview(),n(!1)):(null===(o=e.current)||void 0===o||null===(r=o.editor)||void 0===r||r.showPreview("desktop"),n(!0))},children:t?"Hide Preview":"Show Preview"}),(0,j.jsx)(r.Z,{variant:"contained",color:"primary",onClick:()=>{var t,n;""!==b?null===(t=e.current)||void 0===t||null===(n=t.editor)||void 0===n||n.exportHtml((async e=>{const{html:t}=e,{design:n}=e,i={html:t,design:n,name:b,modifiedOn:new Date},l=await(0,m.eq)(`emailtemplate/edit/${I.id}`,i);l&&200===l.status&&C("/dashboard/emailtemplate")})):v.Am.error("Template Name is required")},children:"Save"}),(0,j.jsx)(r.Z,{variant:"contained",color:"error",onClick:()=>Z(!0),children:"Delete"}),(0,j.jsx)(r.Z,{variant:"contained",color:"primary",startIcon:(0,j.jsx)(u.Z,{}),onClick:()=>{C("/dashboard/emailtemplate")},children:"Back"})]})]})})}),(0,j.jsx)(a.Z,{children:"Template Name"}),(0,j.jsx)(d.Z,{name:"policyStartDate",type:"",size:"small",fullWidth:!0,required:!0,value:b,onChange:e=>E(e.target.value)}),(0,j.jsx)(s.Z,{height:"680px",bgcolor:"gray",className:"editerHeight",mt:1,children:(0,j.jsx)(f.EmailEditor,{ref:e,onLoad:()=>{var t,n;null===(t=e.current)||void 0===t||null===(n=t.editor)||void 0===n||n.loadDesign(g)}})})]})]})}},69883:function(e,t,n){var i=n(64836);t.Z=void 0;var l=i(n(45045)),o=n(46417),r=(0,l.default)((0,o.jsx)("path",{d:"M11.67 3.87 9.9 2.1 0 12l9.9 9.9 1.77-1.77L3.54 12z"}),"ArrowBackIos");t.Z=r},11198:function(e,t,n){var i=n(64836);t.Z=void 0;var l=i(n(45045)),o=n(46417),r=(0,l.default)((0,o.jsx)("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close");t.Z=r},28064:function(e,t,n){e.exports=n(28411)},28411:function(e,t,n){var i,l=n(47313),o=(i=l)&&"object"==typeof i&&"default"in i?i.default:i;function r(){return(r=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}var a=[],d=!1,s=function(){if(d)for(var e;e=a.shift();)e()};window.__unlayer_lastEditorId=window.__unlayer_lastEditorId||0;var c=o.forwardRef((function(e,t){var n,i,c,u,p,f,v,h,m,x=e.onLoad,j=e.onReady,y=e.scriptUrl,Z=e.minHeight,g=void 0===Z?500:Z,w=e.style,b=void 0===w?{}:w,E=l.useState(null),C=E[0],I=E[1],k=l.useState(!1),D=k[0],S=k[1],O=l.useMemo((function(){return e.editorId||"editor-"+ ++window.__unlayer_lastEditorId}),[e.editorId]),_=r({},e.options||{},{appearance:null!=(n=e.appearance)?n:null==(i=e.options)?void 0:i.appearance,displayMode:(null==e?void 0:e.displayMode)||(null==(c=e.options)?void 0:c.displayMode)||"email",locale:null!=(u=e.locale)?u:null==(p=e.options)?void 0:p.locale,projectId:null!=(f=e.projectId)?f:null==(v=e.options)?void 0:v.projectId,tools:null!=(h=e.tools)?h:null==(m=e.options)?void 0:m.tools,id:O,source:{name:"react-email-editor",version:"1.7.9"}});l.useImperativeHandle(t,(function(){return{editor:C}}),[C]),l.useEffect((function(){return function(){null==C||C.destroy()}}),[]),l.useEffect((function(){S(!1),function(e,t){if(void 0===t&&(t="https://editor.unlayer.com/embed.js?2"),a.push((function(){return S(!0)})),function(e){var t=document.querySelectorAll("script"),n=!1;return t.forEach((function(t){t.src.includes(e)&&(n=!0)})),n}(t))s();else{var n=document.createElement("script");n.setAttribute("src",t),n.onload=function(){d=!0,s()},document.head.appendChild(n)}}(0,y)}),[y]),l.useEffect((function(){D&&(null==C||C.destroy(),I(unlayer.createEditor(_)))}),[JSON.stringify(_),D]);var M=Object.keys(e).filter((function(e){return/^on/.test(e)}));return l.useEffect((function(){C&&(null==x||x(C),M.forEach((function(t){/^on/.test(t)&&"onLoad"!==t&&"onReady"!==t&&"function"==typeof e[t]&&C.addEventListener(t,e[t])})),j&&C.addEventListener("editor:ready",(function(){j(C)})))}),[C,Object.keys(M).join(",")]),o.createElement("div",{style:{flex:1,display:"flex",minHeight:g}},o.createElement("div",{id:O,style:r({},b,{flex:1})}))}));t.EmailEditor=c}}]);